<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <header th:fragment="headerFragment">
        <nav class="navbar">
            <div class="logo">
                <a href="/main">
                    <img th:src="@{/images/dailyrecordofbook.png}" width="100">
                </a>
            </div>

            <ul class="navbar_menu">
                <li><a href="/board/list?category=21">공지사항</a></li>
                <li><a href="/board/list?category=11">책방일지 모임</a></li>
                <li><a href="/board/list?category=1">책방둥이 이야기</a></li>
                <li><a href="https://smartstore.naver.com/dailyrecordofbook" target="_blank">책방일지 스토어</a></li>
            </ul>

            <!-- session에 유저 정보가 없을 경우 -->
            <ul class="navbar_login" th:if="${session.user == null}">
                <li><a href="/user/login">로그인</a></li>
                <li><a href="/user/terms">회원가입</a></li>
            </ul>

            <!-- session에 유저 정보가 있을 경우 -->
            <ul class="navbar_login"  id="sessionUser" th:unless="${session.user == null}">

                <div class="sProfileImg" th:if="${session.user.picture} == null">
                    <img th:src="@{/images/profile.jpg}">
                </div>

                <div class="sProfileImg" th:unless="${session.user.picture} == null">
                    <img th:src="${session.user.picture}">
                </div>

                <input type="hidden" id="role" th:value="${session.user.role}">
                <input type="hidden" id="userIdx" th:value="${session.user.idx}">

                <li class="userInfo"><a th:href="@{/user/myPage}" th:text="${session.user.name} + '님 회원정보'"></a></li>
                <li class="userInfo"><a href="/logout">로그아웃</a></li>
            </ul>

        </nav>
    </header>
</html>